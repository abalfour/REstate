Machine{
        "$schema": "http://json-schema.org/draft-04/schema#",
        "id": "http://localhost/restate/machine",
        "type": "object",
        "name": "Machine",
        "title": "Machine Definition",
        "required": [
            "machineName",
            "initialState",
            "autoIgnoreTriggers",
            "stateConfigurations"
        ],
        "additionalProperties": false,
        "options": {
            "disable_properties": true
        },
        "properties": {
            "machineName": {
                "id": "http://localhost/restate/machine/name",
                "type": "string",
                "name": "MachineName",
                "title": "Machine Name",
                "default": null
            },
            "initialState": {
                "id": "http://localhost/restate/machine/initial-state",
                "type": "string",
                "name": "InitialState",
                "title": "Initial State Name",
                "default": null
            },
            "autoIgnoreTriggers": {
                "id": "http://localhost/restate/machine/auto-ignore-triggers",
                "type": "boolean",
                "name": "AutoIgnoreTriggers",
                "title": "Auto ignore triggers not defined in a transition?",
                "default": false
            },
            "stateConfigurations": {
                "id": "http://localhost/restate/machine/state-configurations",
                "type": "array",
                "title": "States",
                "items": {
                    "id": "http://localhost/restate/machine/state-configurations/state",
                    "type": "object",
                    "name": "State",
                    "title": "State",
                    "headerTemplate": "{{ self.stateName }}",
                    "minItems": 1,
                    "additionalProperties": false,
                    "defaultProperties": [
                        "stateName",
                        "stateDescription",
                        "transitions"
                    ],
                    "options": {
                        "disable_edit_json": true
                    },
                    "properties": {
                        "stateName": {
                            "id": "http://localhost/restate/state-configurations/state/name",
                            "type": "string",
                            "name": "Name",
                            "title": "Name",
                            "default": null
                        },
                        "parentStateName": {
                            "id": "http://localhost/restate/state-configurations/state/parent-name",
                            "type": "string",
                            "name": "ParentStateName",
                            "title": "Parent State Name",
                            "default": null,
                            "propertyOrder": 1001
                        },
                        "stateDescription": {
                            "id": "http://localhost/restate/state-configurations/state/description",
                            "type": "string",
                            "name": "Description",
                            "title": "Description",
                            "format": "textarea",
                            "default": null,
                            "options": {
                                "input_height": "100px"
                            },
                            "propertyOrder": 1002
                        },
                        "onEntry": {
                            "id": "http://localhost/restate/state-configurations/state/on-entry",
                            "type": "object",
                            "name": "OnEntryAction",
                            "title": "On Entry",
                            "oneOf": [
                                {"type": "object", "title": "Susanoo", "$ref": "http://localhost/restate/connectors/Susanoo" }, {"type": "object", "title": "RoslynScripting", "$ref": "http://localhost/restate/connectors/RoslynScripting" }, {"type": "object", "title": "RabbitMq", "$ref": "http://localhost/restate/connectors/RabbitMq" }, {"type": "object", "title": "Chrono", "$ref": "http://localhost/restate/connectors/Chrono" }
                            ],
                            "propertyOrder": 1003
                        },
                        "onEntryFrom": {
                            "id": "http://localhost/restate/state-configurations/state/on-entry-from-actions",
                            "type": "array",
                            "name": "OnEntryFromTriggers",
                            "title": "On Entry From Triggers",
                            "propertyOrder": 1004,
                            "items": {
                                "id": "http://localhost/restate/state-configurations/state/on-entry-from-actions/on-entry-from",
                                "type": "object",
                                "name": "OnEntryFrom",
                                "title": "On Entry From Trigger",
                                "headerTemplate": "On Entry From {{self.fromTrigger}}",
                                "$ref": "http://localhost/restate/on-entry-from"
                            }
                        },
                        "transitions": {
                            "id": "http://localhost/restate/state-configurations/state/transitions",
                            "type": "array",
                            "name": "Transitions",
                            "title": "Transitions",
                            "propertyOrder": 1005,
                            "items": {
                                "id": "http://localhost/restate/state-configurations/state/transitions/transition",
                                "type": "object",
                                "name": "Transition",
                                "title": "Transition",
                                "format": "grid",
                                "headerTemplate": "{{ self.triggerName }} -> {{ self.resultantStateName }}",
                                "additionalProperties": false,
                                "defaultProperties": [
                                    "triggerName",
                                    "resultantStateName"
                                ],
                                "options": {
                                    "disable_edit_json": true
                                },
                                "properties": {
                                    "triggerName": {
                                        "id": "http://localhost/restate/state-configurations/state/transitions/transition/trigger-name",
                                        "type": "string",
                                        "name": "TriggerName",
                                        "title": "Trigger Name"
                                    },
                                    "resultantStateName": {
                                        "id": "http://localhost/restate/state-configurations/state/transitions/transition/resultant-state-name",
                                        "type": "string",
                                        "name": "ResultantStateName",
                                        "title": "Resultant State Name"
                                    },
                                    "guard": {
                                        "id": "http://localhost/restate/state-configurations/state/transitions/transition/guard",
                                        "type": "object",
                                        "name": "Guard",
                                        "title": "Guard",
                                        "$ref": "http://localhost/restate/code",
                                        "propertyOrder": 1002
                                    }
                                }
                            }
                        },
                        "ignoreRules": {
                            "id": "http://localhost/restate/state-configurations/state/ignore-rules",
                            "type": "array",
                            "name": "IgnoreRules",
                            "title": "Ignored Triggers",
                            "propertyOrder": 1006,
                            "items": {
                                "id": "http://localhost/restate/state-configurations/state/ignore-rules/trigger-name",
                                "type": "string",
                                "name": "TriggerName",
                                "title": "Trigger",
                                "headerTemplate": "{{ self }}"
                            }
                        },
                        "onExit": {
                            "id": "http://localhost/restate/state-configurations/state/on-exit",
                            "type": "object",
                            "name": "OnExit",
                            "title": "On Exit",
                            "$ref": "http://localhost/restate/code",
                            "propertyOrder": 1007
                        }
                    },
                    "required": [
                        "stateName"
                    ]
                }
            }
        }
    }